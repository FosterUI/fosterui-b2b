{% comment %}
  A customizable newsletter signup section with a HubSpot form.
{% endcomment %}

<style>
  .newsletter-section-{{ section.id }} {
    padding: 60px 20px;
    background-color: {{ section.settings.background_color }};
    color: {{ section.settings.text_color }};
  }

  .newsletter-section-{{ section.id }} .newsletter-container {
    max-width: 768px;
    margin: 0 auto;
    text-align: center;
  }

  .newsletter-section-{{ section.id }} .newsletter-subheading {
    font-size: 1.125rem; /* 18px */
    max-width: 600px;
    margin: 0 auto 2rem auto;
    line-height: 1.6;
  }

  /* HubSpot Form Specific Styling */
  .newsletter-section-{{ section.id }} .hs-form-wrapper {
    max-width: 500px;
    margin: 2rem auto 0;
  }

  .newsletter-section-{{ section.id }} .hs-form-field {
    margin-bottom: 0;
  }

  .newsletter-section-{{ section.id }} .hs-form-field > label {
    display: none;
  }

  .newsletter-section-{{ section.id }} .hs_email .input,
  .newsletter-section-{{ section.id }} .hs-submit {
    display: table-cell;
    vertical-align: middle;
  }

  .newsletter-section-{{ section.id }} .hs-input {
    width: 100%;
    height: 48px;
    padding: 0.75rem 1rem;
    border: 1px solid #d1d5db;
    border-radius: 8px 0 0 8px;
    font-size: 1rem;
    background-color: #ffffff;
    color: #111827;
  }

  .newsletter-section-{{ section.id }} .hs-button {
    height: 48px;
    padding: 0.75rem 1.5rem;
    background-color: {{ section.settings.button_background_color }};
    color: {{ section.settings.button_text_color }};
    border: none;
    border-radius: 0 8px 8px 0;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.2s ease-in-out;
    white-space: nowrap;
  }

  .newsletter-section-{{ section.id }} .hs-button:hover {
    background-color: {{ section.settings.button_background_hover_color }};
  }

  .newsletter-section-{{ section.id }} .hs-form-field.hs-form-required:after {
      content: none;
  }

  .newsletter-section-{{ section.id }} .form-columns-2,
  .newsletter-section-{{ section.id }} .form-columns-1 {
    display: table;
    width: 100%;
    table-layout: fixed;
  }

  @media (max-width: 749px) {
    .newsletter-section-{{ section.id }} .hs_email .input,
    .newsletter-section-{{ section.id }} .hs-submit {
        display: block;
    }

    .newsletter-section-{{ section.id }} .hs-input {
        border-radius: 8px;
        margin-bottom: 1rem;
    }

    .newsletter-section-{{ section.id }} .hs-button {
        border-radius: 8px;
        width: 100%;
    }
  }
</style>

<div class="newsletter-section-{{ section.id }}">
  <div class="newsletter-container">
    {% if section.settings.subheading != blank %}
      <div class="newsletter-subheading">{{ section.settings.subheading }}</div>
    {% endif %}

    <div class="newsletter-section__form">
      <script src="https://js.hsforms.net/forms/embed/40164173.js" defer></script>
      <div
        class="hs-form-frame"
        data-region="na1"
        data-form-id="a4f0c2eb-b5ee-478c-a3c8-c3aba828ad80"
        data-portal-id="40164173"
      ></div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Newsletter",
  "tag": "section",
  "settings": [
    {
      "type": "richtext",
      "id": "subheading",
      "label": "Subheading",
      "default": "<p>Get specialized insights and implementation tactics for Shopify merchants, delivered weekly.</p>"
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#000033"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "button_background_color",
      "label": "Button Background Color",
      "default": "#00C4CC"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Button Text Color",
      "default": "#000033"
    },
    {
      "type": "color",
      "id": "button_background_hover_color",
      "label": "Button Background Hover Color",
      "default": "#00A0A6"
    },
    {
      "type": "header",
      "content": "HubSpot Form"
    },
    {
      "type": "text",
      "id": "hubspot_region",
      "label": "HubSpot Region",
      "default": "na1",
      "info": "e.g., na1, eu1"
    },
    {
      "type": "text",
      "id": "hubspot_portal_id",
      "label": "HubSpot Portal ID",
      "default": "40164173"
    },
    {
      "type": "text",
      "id": "hubspot_form_id",
      "label": "HubSpot Form ID",
      "default": "a4f0c2eb-b5ee-478c-a3c8-c3aba828ad80"
    }
  ],
  "presets": [
    {
      "name": "Newsletter"
    }
  ]
}
{% endschema %}
